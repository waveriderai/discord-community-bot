# Docker Compose for WaveRider Discord Bot
# Portainer Git Deploy Ready

services:
  bot:
    build: .
    container_name: waverider-discord-bot
    restart: unless-stopped
    environment:
      - TZ=Asia/Taipei
      - DISCORD_TOKEN=${DISCORD_TOKEN}
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
      - CLAUDE_MODEL=${CLAUDE_MODEL:-claude-sonnet-4-20250514}
      - BOT_PREFIX=${BOT_PREFIX:-!}
      - LOG_LEVEL=${LOG_LEVEL:-INFO}
    # Health check (optional)
    # healthcheck:
    #   test: ["CMD", "python", "-c", "print('ok')"]
    #   interval: 30s
    #   timeout: 10s
    #   retries: 3
